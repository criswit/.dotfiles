#!/usr/bin/env bash
# Shell aliases configuration

# Directory navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'

# List directory contents  
# ALWAYS use standard ls to avoid icon rendering issues
alias ls='ls --color=auto'
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'

# If you want to use eza, use these aliases instead
if command -v eza &>/dev/null || [[ -f "$HOME/.local/share/mise/installs/eza/0.23.0/eza" ]]; then
    EZA_CMD="${HOME}/.local/share/mise/installs/eza/0.23.0/eza"
    [[ -f "$EZA_CMD" ]] || EZA_CMD="eza"
    alias ez="$EZA_CMD"
    alias ezl="$EZA_CMD -la"
    alias ezt="$EZA_CMD --tree"
fi

# File operations
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias mkdir='mkdir -p'

# Modern CLI tool replacements
command -v bat &>/dev/null && alias cat='bat'
command -v rg &>/dev/null && alias grep='rg'
command -v fd &>/dev/null && alias find='fd'
command -v zoxide &>/dev/null && alias cd='z'

# Git aliases
alias g='git'
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git pull'
alias gd='git diff'
alias gco='git checkout'
alias gb='git branch'
alias glog='git log --oneline --graph --decorate'

# System aliases
alias df='df -h'
alias du='du -h'
alias free='free -h'
alias ps='ps aux'

# Network
alias ports='netstat -tulanp'
alias myip='curl -s https://api.ipify.org && echo'

# Misc
alias h='history'
alias j='jobs -l'
alias which='type -a'
alias path='echo -e ${PATH//:/\\n}'
alias reload='source ~/.zshrc'
alias edit='${EDITOR:-nvim}'

# Safety nets
alias ln='ln -i'
alias chown='chown --preserve-root'
alias chmod='chmod --preserve-root'
alias chgrp='chgrp --preserve-root'

# Docker aliases (if docker is installed)
if command -v docker &>/dev/null; then
    alias d='docker'
    alias dc='docker-compose'
    alias dps='docker ps'
    alias dpsa='docker ps -a'
    alias di='docker images'
    alias dex='docker exec -it'
fi

# Kubernetes aliases (if kubectl is installed)
if command -v kubectl &>/dev/null; then
    alias k='kubectl'
    alias kgp='kubectl get pods'
    alias kgs='kubectl get services'
    alias kgd='kubectl get deployments'
    alias kaf='kubectl apply -f'
    alias kdel='kubectl delete'
    alias klog='kubectl logs'
fi

# Python aliases
alias py='python3'
alias pip='pip3'
alias venv='python3 -m venv'
alias activate='source venv/bin/activate'

alias v='nvim'
alias dangerclaude='claude --dangerously-skip-permissions'
alias clip='xclip -selection clipboard'

# Add local aliases if they exist
[[ -f "$HOME/.aliases.local" ]] && source "$HOME/.aliases.local"
